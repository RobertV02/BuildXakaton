# Инструкция по развертыванию системы "Alpha Build" в закрытом контуре

## 1. Предварительные требования
Перед началом убедитесь, что на сервере установлены следующие компоненты:
- Docker (версия 20.10 или выше)
- Docker Compose (версия 2.0 или выше)
- Доступ к репозиторию с исходным кодом системы

## 2. Клонирование репозитория
Склонируйте репозиторий с системой на сервер:
```
git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ> alpha-build
cd alpha-build
```

## 3. Проверка Docker-файлов
Убедитесь, что в репозитории присутствуют следующие файлы:
- `Dockerfile` — для сборки образа приложения
- `docker-compose.yml` — для запуска всех сервисов (приложение, база данных и т.д.)

## 4. Настройка переменных окружения
Создайте файл `.env` в корне проекта (если его нет) и укажите необходимые переменные окружения. Пример:
```
DJANGO_SECRET_KEY=ваш_секретный_ключ
POSTGRES_DB=alpha_build
POSTGRES_USER=alpha_user
POSTGRES_PASSWORD=alpha_password
POSTGRES_HOST=db
POSTGRES_PORT=5432
```

## 5. Сборка и запуск контейнеров
Выполните команду для сборки и запуска всех контейнеров:
```
docker-compose up --build -d
```

### Основные сервисы:
- Приложение Django: доступно по адресу `http://<IP_СЕРВЕРА>:8000/`
- PostgreSQL: используется для хранения данных

## 6. Применение миграций
После запуска контейнеров выполните миграции базы данных:
```
docker-compose exec web python manage.py migrate
```

## 7. Создание суперпользователя
Для доступа к административной панели создайте суперпользователя:
```
docker-compose exec web python manage.py createsuperuser
```

## 8. Проверка работы системы
Откройте браузер и перейдите по адресу:
```
http://<IP_СЕРВЕРА>:8000/
```
Войдите в административную панель по адресу:
```
http://<IP_СЕРВЕРА>:8000/admin/
```

## 9. Остановка системы
Для остановки всех контейнеров выполните:
```
docker-compose down
```

## Примечания
- Убедитесь, что сервер имеет доступ к интернету для загрузки Docker-образов.
- Если требуется работа в полностью изолированном контуре, предварительно загрузите все необходимые Docker-образы и перенесите их на сервер.